!function(e){var t={init:function(){return this.each(function(){function t(){var e=o.eq(0);e.addClass("selected"),l.text(e.text()),i.data("value",e.data("value"))}function a(t){var a=t.data("event_key");t.removeClass("opened"),e("html").unbind("click."+a)}function n(t){var n=(new Date).getTime();t.addClass("opened"),t.data("event_key",n),e("html").bind("click."+n,function(n){e(n.target).closest(t).length||(a(t),n.stopPropagation())})}var i=e(this),l=i.find(".select_current"),o=i.find(".option");if(void 0===i.data("value"))t();else{var s=i.data("value"),d=o.filter('[data-value="'+s+'"]');d.length?(l.text(d.text()),o.removeClass("selected"),d.addClass("selected")):t()}i.bind("click.select",function(t){var s=e(this);if(e(t.target)[0]==l[0]&&(s.hasClass("opened")?a(s):n(s)),e(t.target).hasClass("option")){var d=e(t.target),r=d.text();if(!d.hasClass("selected")){var c=d.data("value");o.removeClass("selected"),d.addClass("selected"),l.text(r),i.data("value",c),i.trigger("change")}a(s)}})})},destroy:function(){return this.each(function(){var t=e(this);t.unbind(".select")})},set:function(t){return this.each(function(){var a=e(this),n=a.find(".select_current"),i=a.find(".option"),l=!1;if(e.each(i,function(){e(this).data("value")==t&&(l=!0)}),!l)return void console.warn("value not found");if(a.data("value")!=t){var o=i.filter('[data-value="'+t+'"]');n.text(o.text()),i.removeClass("selected"),o.addClass("selected"),a.trigger("change")}})},add:function(t){return this.each(function(){var a=e(this).find(".select_dropdown"),n="";if(void 0===t.html){if(void 0===t.val)return void console.warn("value not set");n=void 0===t.text?'<span data-value="'+t.val+'" class="option">'+t.val+"</span>":'<span data-value="'+t.val+'" class="option">'+t.text+"</span>"}else n=t.html;a.append(n)})},remove:function(t){return this.each(function(){function a(){var e=l.eq(0);e.addClass("selected"),i.text(e.text()),n.data("value",e.data("value"))}var n=e(this),i=n.find(".select_current"),l=n.find(".option"),o=n.data("value"),s=l.filter('[data-value="'+o+'"]'),d=l.filter('[data-value="'+t+'"]');return d.length?void(s.data("value")==d.data("value")?(d.remove(),l=n.find(".option"),a()):d.remove()):void console.warn("option not found")})}};e.fn.customSelect=function(a){return t[a]?t[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" not exist in jQuery.customSelect plugin"):t.init.apply(this,arguments)}}(jQuery);